{"version":3,"sources":["services/personService.js","components/Filter.js","components/Persons.js","components/AddPerson.js","App.js","reportWebVitals.js","index.js"],"names":["baseUrl","axios","get","newObject","console","log","post","id","put","delete","Filter","props","value","newFilter","onChange","handleFilter","Persons","personsToShow","deletePerson","map","person","name","number","onClick","window","confirm","AddPerson","newPerson","newName","handleNameChange","newNumber","handleNumChange","onSubmit","type","Notification","message","styleColor","includes","msgstyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","App","useState","persons","setPersons","setNewName","setNewNumber","showAll","setShowAll","setFilter","statusMessage","setStatusMessage","useEffect","noteService","then","response","data","addPerson","personObj","concat","setTimeout","updatePerson","filter","toLowerCase","event","target","preventDefault","personsNames","filteredPerson","catch","error","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bf543804.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseUrl = 'api/persons/'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  console.log('Adding',newObject)\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  console.log(`${baseUrl}/${id}`, newObject)\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst remove = (id) => {\r\n  console.log(\"personsID\",id)\r\n  return axios.delete(`${baseUrl}/${id}`)\r\n  \r\n}\r\n\r\nexport default { \r\n  getAll: getAll, \r\n  create: create, \r\n  update: update, \r\n  remove: remove\r\n}","import React from 'react'\r\n\r\nconst Filter = (props) =>  {\r\n    return (\r\n      <div>filter shown with: <input \r\n      value = {props.newFilter}\r\n      onChange = {props.handleFilter}/>\r\n      </div>\r\n  \r\n    )\r\n  }\r\n  \r\n  export default Filter","import React from 'react'\r\n\r\nconst Persons = (props) => {\r\n    const {personsToShow, deletePerson} = props\r\n    console.log(\"personstoshow\",personsToShow)\r\n    return(\r\n      personsToShow.map(person => \r\n        <div key = {person.name}>\r\n          {person.name} {person.number}\r\n        {console.log(\"person\",person.id)}\r\n        <button onClick = {() => {if(window.confirm(`Delete ${person.name}?`)){\r\n                                    deletePerson(person.id,person.name)}\r\n                                    }}>delete</button>\r\n        </div>\r\n    )\r\n  )\r\n}\r\n\r\nexport default Persons","import React  from 'react'\r\n\r\nconst AddPerson = (props) => {\r\n    const {newPerson, newName, handleNameChange, newNumber, handleNumChange} = props\r\n    return (\r\n      <form onSubmit={newPerson}>\r\n        <div>name: <input \r\n        value = {newName}\r\n        onChange = {handleNameChange}/>\r\n        </div>\r\n        <div>number: <input\r\n        value = {newNumber}\r\n        onChange = {handleNumChange}/>\r\n       </div>\r\n        <div><button type=\"submit\">add</button></div>\r\n      </form>\r\n    )\r\n  }\r\n\r\n  export default AddPerson","import React, { useState, useEffect } from 'react'\nimport noteService from './services/personService'\nimport Filter from './components/Filter'\nimport Persons from './components/Persons'\nimport AddPerson from './components/AddPerson'\n\nconst Notification = ({message}) => {\n  if (message === null) {\n    return null\n  } else {\n    var styleColor = 'green'\n    if (message.includes(\"already\")){\n      console.log('mesasge includes alred')\n      styleColor = 'red'\n    }\n    const msgstyle = {\n        color: styleColor,\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10,\n      }\n    return (\n      <div style = {msgstyle}>\n        {message}\n      </div>\n    )\n  }\n\n}\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [ showAll, setShowAll ] = useState(true)\n  const [ newFilter, setFilter ] = useState('')\n  const [ statusMessage, setStatusMessage] = useState(null)\n\n  useEffect(() => {\n    console.log('effect')\n    noteService\n      .getAll()\n      .then(response => {\n        console.log('promise fulfilled')\n        setPersons(response.data)\n      })\n  }, [])\n\n  const handleFilter = (event) => {\n    setFilter(event.target.value)\n    if (event.target.value !== ''){\n      setShowAll(false)\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  \n  const handleNumChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const newPerson = (event) => {\n    event.preventDefault()\n    const personsNames = persons.map(person => person.name)\n    const personObj = {\n      name: newName,\n      number: newNumber\n    }    \n    if (personsNames.includes(personObj.name)){\n      if(window.confirm(`${personObj.name} is already added to phonebook. Replace old number with new one?`)){\n        const filteredPerson = persons.filter(person => person.name === personObj.name)[0]\n        updatePerson(filteredPerson.id, personObj)\n        console.log('filteredperson id', filteredPerson.id)\n        setStatusMessage(`${personObj.name} updated`)\n        setTimeout(() => {\n          setStatusMessage(null)\n        }, 2000 )\n      } else {\n        noteService\n          .create(personObj)\n          .then(response => {\n            console.log(response)\n          })\n        addPerson(personObj)\n      }\n    }\n  }\n\n  const addPerson = (personObj) => {\n    console.log('Adding person',personObj.name)\n    setPersons(persons.concat(personObj))\n    setNewName('')\n    setNewNumber('')\n\n    setStatusMessage(`${personObj.name} added`)\n    setTimeout(() => {\n      setStatusMessage(null)\n    }, 2000 )\n  }\n\n  const updatePerson = (id, personObj) => {\n    noteService\n      .update(id, personObj)\n      .then(response => {\n        setPersons(persons.map(person => person.id !== id ? person : response.data))\n    })\n  }\n\n  const deletePerson = (id,name) => {\n    console.log('id name', id, name)\n    noteService\n      .remove(id)\n      .then(response => {\n        noteService\n        .getAll().then(response => {\n          setPersons(response.data)\n        })\n        })\n        .catch(error => {\n          setStatusMessage(\n            `${name} was already removed from the server`\n          )\n          setTimeout(() => {\n            setStatusMessage(null)\n          }, 2000)\n      })  \n    setStatusMessage(`${name} Removed`)\n    setTimeout(() => {\n      setStatusMessage(null)\n    }, 2000 )  \n  }\n  \n  const personsToShow = showAll \n  ? persons\n  : persons.filter(person => person.name.toLowerCase().includes(newFilter.toLowerCase()))\n\n  return (\n    <div>\n      <h1>  Phonebook</h1>\n      <Notification message = {statusMessage}/>\n      <Filter \n      handleFilter = {handleFilter}\n      newFilter = {newFilter}\n      setFilter = {setFilter}\n      showAll = {showAll}\n      setShowAll = {setShowAll}\n      />\n      <h2>  Add a new</h2>\n      <AddPerson \n      newPerson = {newPerson}\n      newName = {newName}\n      persons = {persons}\n      handleNameChange = {handleNameChange}\n      newNumber = {newNumber}\n      handleNumChange = {handleNumChange}\n      addPerson = {addPerson}\n      />\n      <h2>  Numbers</h2>\n      <Persons personsToShow = {personsToShow} deletePerson = {deletePerson}/>\n    </div>\n  )\n}\n\nexport default App","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}